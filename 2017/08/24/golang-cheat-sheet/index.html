<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>[转] Go Cheat Sheet - 胡言乱语</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="ehlxr" />
  <meta name="description" content="Go Cheat Sheet Credits Most example code taken from A Tour of Go, which is an excellent introduction to Go. If you&amp;rsquo;re new to Go, do that tour. Seriously.
Go in a Nutshell  Imperative language Statically typed Syntax tokens similar to C (but less parentheses and no semicolons) and the structure to Oberon-2 Compiles to native code (no JVM) No classes, but structs with methods Interfaces No implementation inheritance. There&amp;rsquo;s type embedding, though. Functions are first class citizens Functions can return multiple values Has closures Pointers, but not pointer arithmetic Built-in concurrency primitives: Goroutines and Channels " />
<meta name="keywords" content="Golang,, Go" />







<meta name="generator" content="Hugo 0.51" />


<link rel="canonical" href="https://ehlxr.cf/2017/08/24/golang-cheat-sheet/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">




<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<link href="/dist/ehlxr.min.css?v=0.0.1" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" crossorigin="anonymous">



<link rel="stylesheet" href="/css/custom.css">


<meta property="og:title" content="[转] Go Cheat Sheet" />
<meta property="og:description" content="Go Cheat Sheet

Credits

Most example code taken from A Tour of Go, which is an excellent introduction to Go.
If you&rsquo;re new to Go, do that tour. Seriously.

Go in a Nutshell


Imperative language
Statically typed
Syntax tokens similar to C (but less parentheses and no semicolons) and the structure to Oberon-2
Compiles to native code (no JVM)
No classes, but structs with methods
Interfaces
No implementation inheritance. There&rsquo;s type embedding, though.
Functions are first class citizens
Functions can return multiple values
Has closures
Pointers, but not pointer arithmetic
Built-in concurrency primitives: Goroutines and Channels
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ehlxr.cf/2017/08/24/golang-cheat-sheet/" /><meta property="article:published_time" content="2017-08-24T14:18:53&#43;00:00"/>
<meta property="article:modified_time" content="2017-08-24T14:18:53&#43;00:00"/>

<meta itemprop="name" content="[转] Go Cheat Sheet">
<meta itemprop="description" content="Go Cheat Sheet

Credits

Most example code taken from A Tour of Go, which is an excellent introduction to Go.
If you&rsquo;re new to Go, do that tour. Seriously.

Go in a Nutshell


Imperative language
Statically typed
Syntax tokens similar to C (but less parentheses and no semicolons) and the structure to Oberon-2
Compiles to native code (no JVM)
No classes, but structs with methods
Interfaces
No implementation inheritance. There&rsquo;s type embedding, though.
Functions are first class citizens
Functions can return multiple values
Has closures
Pointers, but not pointer arithmetic
Built-in concurrency primitives: Goroutines and Channels
">


<meta itemprop="datePublished" content="2017-08-24T14:18:53&#43;00:00" />
<meta itemprop="dateModified" content="2017-08-24T14:18:53&#43;00:00" />
<meta itemprop="wordCount" content="2469">



<meta itemprop="keywords" content="Golang,Go," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[转] Go Cheat Sheet"/>
<meta name="twitter:description" content="Go Cheat Sheet

Credits

Most example code taken from A Tour of Go, which is an excellent introduction to Go.
If you&rsquo;re new to Go, do that tour. Seriously.

Go in a Nutshell


Imperative language
Statically typed
Syntax tokens similar to C (but less parentheses and no semicolons) and the structure to Oberon-2
Compiles to native code (no JVM)
No classes, but structs with methods
Interfaces
No implementation inheritance. There&rsquo;s type embedding, though.
Functions are first class citizens
Functions can return multiple values
Has closures
Pointers, but not pointer arithmetic
Built-in concurrency primitives: Goroutines and Channels
"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div class="container" >
    
<div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">胡言乱语</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">主页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a><a href="/link/">
        <li class="mobile-menu-item">友链</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">关于</li>
      </a><a href="/search/">
        <li class="mobile-menu-item">搜索</li>
      </a>
  </ul>
</nav>

    <header id="header" class="header">
      <div class="header-div">
        
<div class="logo-wrapper">
  <a href="/" class="logo">胡言乱语</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
    <li class="menu-item ">
        <a class="menu-item-link" href="/">
          <i class="fa fa-fw fa-home"></i>
          主页
        </a>
      </li><li class="menu-item ">
        <a class="menu-item-link" href="/post/">
          <i class="fa fa-fw fa-archive"></i>
          归档
        </a>
      </li><li class="menu-item ">
        <a class="menu-item-link" href="/tags/">
          <i class="fa fa-fw fa-tags"></i>
          标签
        </a>
      </li><li class="menu-item ">
        <a class="menu-item-link" href="/categories/">
          <i class="fa fa-fw fa-th"></i>
          分类
        </a>
      </li><li class="menu-item ">
        <a class="menu-item-link" href="/link/">
          <i class="fa fa-fw fa-users"></i>
          友链
        </a>
      </li><li class="menu-item ">
        <a class="menu-item-link" href="/about/">
          <i class="fa fa-fw fa-user"></i>
          关于
        </a>
      </li><li class="menu-item ">
        <a class="menu-item-link" href="/search/">
          <i class="fa fa-fw fa-search"></i>
          搜索
        </a>
      </li>
    
  </ul>
</nav>

      </div>
    </header>
    

    <main id="main" class="main">
      <div class="content-wrapper" id="mobile-panel">
        <div id="content" class="content">
          
          

          <article class="post">
    
    <header class="post-header single-post-header">
      <h1 class="post-title">[转] Go Cheat Sheet</h1>

      <div class="post-meta">
        <span class="post-time"> <i class="fa fa-calendar" aria-hidden="true"></i> 2017-08-24 </span>
        <div class="post-category">
            | <i class="fa fa-folder" aria-hidden="true"></i>
            
              <a href="/categories/golang/"> Golang </a>
            
          </div>
        <span class="more-meta"> | <i class="fa fa-book" aria-hidden="true"></i> 约 2469 字 </span>
        <span class="more-meta"> | <i class="fa fa-clock-o" aria-hidden="true"></i> 预计阅读 5 分钟 </span>
        <span class="more-meta">
          | <i class="fa fa-comment-o" aria-hidden="true"></i>
          <a href="#gitalk-container" itemprop="discussionUrl">
            <span class="post-comments-count gitalk-comment-count" itemprop="commentCount"></span>
          </a>
           条评论
        </span>
        | <i class="fa fa-eye"></i>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次阅读 </span>
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#go-cheat-sheet">Go Cheat Sheet</a>
<ul>
<li><a href="#credits">Credits</a></li>
<li><a href="#go-in-a-nutshell">Go in a Nutshell</a></li>
</ul></li>
<li><a href="#basic-syntax">Basic Syntax</a>
<ul>
<li><a href="#hello-world">Hello World</a></li>
<li><a href="#operators">Operators</a>
<ul>
<li><a href="#arithmetic">Arithmetic</a></li>
<li><a href="#comparison">Comparison</a></li>
<li><a href="#logical">Logical</a></li>
<li><a href="#other">Other</a></li>
</ul></li>
<li><a href="#declarations">Declarations</a></li>
<li><a href="#functions">Functions</a>
<ul>
<li><a href="#functions-as-values-and-closures">Functions As Values And Closures</a></li>
<li><a href="#variadic-functions">Variadic Functions</a></li>
</ul></li>
<li><a href="#built-in-types">Built-in Types</a></li>
<li><a href="#type-conversions">Type Conversions</a></li>
<li><a href="#packages">Packages</a></li>
<li><a href="#control-structures">Control structures</a>
<ul>
<li><a href="#if">If</a></li>
<li><a href="#loops">Loops</a></li>
<li><a href="#switch">Switch</a></li>
</ul></li>
<li><a href="#arrays-slices-ranges">Arrays, Slices, Ranges</a>
<ul>
<li><a href="#arrays">Arrays</a></li>
<li><a href="#slices">Slices</a></li>
<li><a href="#operations-on-arrays-and-slices">Operations on Arrays and Slices</a></li>
</ul></li>
<li><a href="#maps">Maps</a></li>
<li><a href="#structs">Structs</a></li>
<li><a href="#pointers">Pointers</a></li>
<li><a href="#interfaces">Interfaces</a></li>
<li><a href="#embedding">Embedding</a></li>
<li><a href="#errors">Errors</a></li>
</ul></li>
<li><a href="#concurrency">Concurrency</a>
<ul>
<li><a href="#goroutines">Goroutines</a></li>
<li><a href="#channels">Channels</a>
<ul>
<li><a href="#channel-axioms">Channel Axioms</a></li>
</ul></li>
<li><a href="#printing">Printing</a></li>
</ul></li>
<li><a href="#snippets">Snippets</a>
<ul>
<li><a href="#http-server">HTTP Server</a></li>
</ul></li>
</ul>
</nav>
  </div>
  <div class="toc-taxonomy">
    
<div class="sidebar-category">
    <hr>
    <h5>
        <a href="/categories/">分类排行</a>
    </h5>

    
        <a href="https://ehlxr.cf/categories/linux" class="taxonomy-name">
            linux
            <span class="taxonomy-counts">14</span>
        </a>
    
        <a href="https://ehlxr.cf/categories/%E6%9D%82%E8%B0%88" class="taxonomy-name">
            杂谈
            <span class="taxonomy-counts">9</span>
        </a>
    
        <a href="https://ehlxr.cf/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7" class="taxonomy-name">
            开发工具
            <span class="taxonomy-counts">8</span>
        </a>
    
        <a href="https://ehlxr.cf/categories/git" class="taxonomy-name">
            git
            <span class="taxonomy-counts">7</span>
        </a>
    
        <a href="https://ehlxr.cf/categories/java%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF" class="taxonomy-name">
            java开发技术
            <span class="taxonomy-counts">7</span>
        </a>
    
        <a href="https://ehlxr.cf/categories/golang" class="taxonomy-name">
            golang
            <span class="taxonomy-counts">4</span>
        </a>
    
        <a href="https://ehlxr.cf/categories/hexo" class="taxonomy-name">
            hexo
            <span class="taxonomy-counts">3</span>
        </a>
    
        <a href="https://ehlxr.cf/categories/sql" class="taxonomy-name">
            sql
            <span class="taxonomy-counts">3</span>
        </a>
    
        <a href="https://ehlxr.cf/categories/%E5%B9%B4%E6%9C%AB%E6%80%BB%E7%BB%93" class="taxonomy-name">
            年末总结
            <span class="taxonomy-counts">3</span>
        </a>
    
        <a href="https://ehlxr.cf/categories/%E6%8C%81%E7%BB%AD%E6%9E%84%E5%BB%BA" class="taxonomy-name">
            持续构建
            <span class="taxonomy-counts">3</span>
        </a>
    
</div>

<div class="sidebar-tag">
    <hr>
    <h5>
        <a href="/tags/">标签排行</a>
    </h5>

    
        <a href="https://ehlxr.cf/tags/linux" class="taxonomy-name">
            linux
            <span class="taxonomy-counts">14</span>
        </a>
    
        <a href="https://ehlxr.cf/tags/centos" class="taxonomy-name">
            centos
            <span class="taxonomy-counts">9</span>
        </a>
    
        <a href="https://ehlxr.cf/tags/git" class="taxonomy-name">
            git
            <span class="taxonomy-counts">9</span>
        </a>
    
        <a href="https://ehlxr.cf/tags/java" class="taxonomy-name">
            java
            <span class="taxonomy-counts">9</span>
        </a>
    
        <a href="https://ehlxr.cf/tags/%E6%9D%82%E8%B0%88" class="taxonomy-name">
            杂谈
            <span class="taxonomy-counts">7</span>
        </a>
    
        <a href="https://ehlxr.cf/tags/github" class="taxonomy-name">
            github
            <span class="taxonomy-counts">4</span>
        </a>
    
        <a href="https://ehlxr.cf/tags/go" class="taxonomy-name">
            go
            <span class="taxonomy-counts">4</span>
        </a>
    
        <a href="https://ehlxr.cf/tags/golang" class="taxonomy-name">
            golang
            <span class="taxonomy-counts">4</span>
        </a>
    
        <a href="https://ehlxr.cf/tags/hexo" class="taxonomy-name">
            hexo
            <span class="taxonomy-counts">3</span>
        </a>
    
        <a href="https://ehlxr.cf/tags/jvm" class="taxonomy-name">
            jvm
            <span class="taxonomy-counts">3</span>
        </a>
    
</div>

  </div>
</div>


    
    <div class="post-content">
      <h1 id="go-cheat-sheet">Go Cheat Sheet</h1>

<h2 id="credits">Credits</h2>

<p>Most example code taken from <a href="http://tour.golang.org/">A Tour of Go</a>, which is an excellent introduction to Go.
If you&rsquo;re new to Go, do that tour. Seriously.</p>

<h2 id="go-in-a-nutshell">Go in a Nutshell</h2>

<ul>
<li>Imperative language</li>
<li>Statically typed</li>
<li>Syntax tokens similar to C (but less parentheses and no semicolons) and the structure to Oberon-2</li>
<li>Compiles to native code (no JVM)</li>
<li>No classes, but structs with methods</li>
<li>Interfaces</li>
<li>No implementation inheritance. There&rsquo;s <a href="http://golang.org/doc/effective%5Fgo.html#embedding">type embedding</a>, though.</li>
<li>Functions are first class citizens</li>
<li>Functions can return multiple values</li>
<li>Has closures</li>
<li>Pointers, but not pointer arithmetic</li>
<li>Built-in concurrency primitives: Goroutines and Channels</li>
</ul>

<h1 id="basic-syntax">Basic Syntax</h1>

<h2 id="hello-world">Hello World</h2>

<p>File <code>hello.go</code>:</p>

<pre><code class="language-go">package main

import &quot;fmt&quot;

func main() {
    fmt.Println(&quot;Hello Go&quot;)
}
</code></pre>

<p><code>$ go run hello.go</code></p>

<h2 id="operators">Operators</h2>

<h3 id="arithmetic">Arithmetic</h3>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>+</code></td>
<td>addition</td>
</tr>

<tr>
<td><code>-</code></td>
<td>subtraction</td>
</tr>

<tr>
<td><code>*</code></td>
<td>multiplication</td>
</tr>

<tr>
<td><code>/</code></td>
<td>quotient</td>
</tr>

<tr>
<td><code>%</code></td>
<td>remainder</td>
</tr>

<tr>
<td><code>&amp;</code></td>
<td>bitwise and</td>
</tr>

<tr>
<td><code>?</code></td>
<td>bitwise or</td>
</tr>

<tr>
<td><code>^</code></td>
<td>bitwise xor</td>
</tr>

<tr>
<td><code>&amp;^</code></td>
<td>bit clear (and not)</td>
</tr>

<tr>
<td><code>&lt;&lt;</code></td>
<td>left shift</td>
</tr>

<tr>
<td><code>&gt;&gt;</code></td>
<td>right shift</td>
</tr>
</tbody>
</table>

<blockquote>
<p><code>?</code> -&gt; <code>|</code></p>
</blockquote>

<h3 id="comparison">Comparison</h3>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>==</code></td>
<td>equal</td>
</tr>

<tr>
<td><code>!=</code></td>
<td>not equal</td>
</tr>

<tr>
<td><code>&lt;</code></td>
<td>less than</td>
</tr>

<tr>
<td><code>&lt;=</code></td>
<td>less than or equal</td>
</tr>

<tr>
<td><code>&gt;</code></td>
<td>greater than</td>
</tr>

<tr>
<td><code>&gt;=</code></td>
<td>greater than or equal</td>
</tr>
</tbody>
</table>

<h3 id="logical">Logical</h3>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>&amp;&amp;</code></td>
<td>logical and</td>
</tr>

<tr>
<td><code>??</code></td>
<td>logical or</td>
</tr>

<tr>
<td><code>!</code></td>
<td>logical not</td>
</tr>
</tbody>
</table>

<blockquote>
<p><code>??</code> -&gt; <code>||</code></p>
</blockquote>

<h3 id="other">Other</h3>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>&amp;</code></td>
<td>address of / create pointer</td>
</tr>

<tr>
<td><code>*</code></td>
<td>dereference pointer</td>
</tr>

<tr>
<td><code>&lt;-</code></td>
<td>send / receive operator (see &lsquo;Channels&rsquo; below)</td>
</tr>
</tbody>
</table>

<h2 id="declarations">Declarations</h2>

<p>Type goes after identifier!</p>

<pre><code class="language-go">var foo int // declaration without initialization
var foo int = 42 // declaration with initialization
var foo, bar int = 42, 1302 // declare and init multiple vars at once
var foo = 42 // type omitted, will be inferred
foo := 42 // shorthand, only in func bodies, omit var keyword, type is always implicit
const constant = &quot;This is a constant&quot;
</code></pre>

<h2 id="functions">Functions</h2>

<pre><code class="language-go">// a simple function
func functionName() {}

// function with parameters (again, types go after identifiers)
func functionName(param1 string, param2 int) {}

// multiple parameters of the same type
func functionName(param1, param2 int) {}

// return type declaration
func functionName() int {
    return 42
}

// Can return multiple values at once
func returnMulti() (int, string) {
    return 42, &quot;foobar&quot;
}
var x, str = returnMulti()

// Return multiple named results simply by return
func returnMulti2() (n int, s string) {
    n = 42
    s = &quot;foobar&quot;
    // n and s will be returned
    return
}
var x, str = returnMulti2()

</code></pre>

<h3 id="functions-as-values-and-closures">Functions As Values And Closures</h3>

<pre><code class="language-go">func main() {
    // assign a function to a name
    add := func(a, b int) int {
        return a + b
    }
    // use the name to call the function
    fmt.Println(add(3, 4))
}

// Closures, lexically scoped: Functions can access values that were
// in scope when defining the function
func scope() func() int{
    outer_var := 2
    foo := func() int { return outer_var}
    return foo
}

func another_scope() func() int{
    // won't compile because outer_var and foo not defined in this scope
    outer_var = 444
    return foo
}


// Closures: don't mutate outer vars, instead redefine them!
func outer() (func() int, int) {
    outer_var := 2
    inner := func() int {
        outer_var += 99 // attempt to mutate outer_var from outer scope
        return outer_var // =&gt; 101 (but outer_var is a newly redefined
                         //         variable visible only inside inner)
    }
    return inner, outer_var // =&gt; 101, 2 (outer_var is still 2, not mutated by foo!)
}
</code></pre>

<h3 id="variadic-functions">Variadic Functions</h3>

<pre><code class="language-go">func main() {
	fmt.Println(adder(1, 2, 3)) 	// 6
	fmt.Println(adder(9, 9))	// 18

	nums := []int{10, 20, 30}
	fmt.Println(adder(nums...))	// 60
}

// By using ... before the type name of the last parameter you can indicate that it takes zero or more of those parameters.
// The function is invoked like any other function except we can pass as many arguments as we want.
func adder(args ...int) int {
	total := 0
	for _, v := range args { // Iterates over the arguments whatever the number.
		total += v
	}
	return total
}
</code></pre>

<h2 id="built-in-types">Built-in Types</h2>

<pre><code>bool

string

int  int8  int16  int32  int64
uint uint8 uint16 uint32 uint64 uintptr

byte // alias for uint8

rune // alias for int32 ~= a character (Unicode code point) - very Viking

float32 float64

complex64 complex128
</code></pre>

<h2 id="type-conversions">Type Conversions</h2>

<pre><code class="language-go">var i int = 42
var f float64 = float64(i)
var u uint = uint(f)

// alternative syntax
i := 42
f := float64(i)
u := uint(f)
</code></pre>

<h2 id="packages">Packages</h2>

<ul>
<li>Package declaration at top of every source file</li>
<li>Executables are in package <code>main</code></li>
<li>Convention: package name == last name of import path (import path <code>math/rand</code> =&gt; package <code>rand</code>)</li>
<li>Upper case identifier: exported (visible from other packages)</li>
<li>Lower case identifier: private (not visible from other packages)</li>
</ul>

<h2 id="control-structures">Control structures</h2>

<h3 id="if">If</h3>

<pre><code class="language-go">func main() {
	// Basic one
	if x &gt; 0 {
		return x
	} else {
		return -x
	}

	// You can put one statement before the condition
	if a := b + c; a &lt; 42 {
		return a
	} else {
		return a - 42
	}

	// Type assertion inside if
	var val interface{}
	val = &quot;foo&quot;
	if str, ok := val.(string); ok {
		fmt.Println(str)
	}
}
</code></pre>

<h3 id="loops">Loops</h3>

<pre><code class="language-go">    // There's only `for`, no `while`, no `until`
    for i := 1; i &lt; 10; i++ {
    }
    for ; i &lt; 10;  { // while - loop
    }
    for i &lt; 10  { // you can omit semicolons if there is only a condition
    }
    for { // you can omit the condition ~ while (true)
    }
</code></pre>

<h3 id="switch">Switch</h3>

<pre><code class="language-go">    // switch statement
    switch operatingSystem {
    case &quot;darwin&quot;:
        fmt.Println(&quot;Mac OS Hipster&quot;)
        // cases break automatically, no fallthrough by default
    case &quot;linux&quot;:
        fmt.Println(&quot;Linux Geek&quot;)
    default:
        // Windows, BSD, ...
        fmt.Println(&quot;Other&quot;)
    }

    // as with for and if, you can have an assignment statement before the switch value
    switch os := runtime.GOOS; os {
    case &quot;darwin&quot;: ...
    }

    // you can also make comparisons in switch cases
    number := 42
    switch {
        case number &lt; 42:
            fmt.Println(&quot;Smaller&quot;)
        case number == 42:
            fmt.Println(&quot;Equal&quot;)
        case number &gt; 42:
            fmt.Println(&quot;Greater&quot;)
    }
</code></pre>

<h2 id="arrays-slices-ranges">Arrays, Slices, Ranges</h2>

<h3 id="arrays">Arrays</h3>

<pre><code class="language-go">var a [10]int // declare an int array with length 10. Array length is part of the type!
a[3] = 42     // set elements
i := a[3]     // read elements

// declare and initialize
var a = [2]int{1, 2}
a := [2]int{1, 2} //shorthand
a := [...]int{1, 2} // elipsis -&gt; Compiler figures out array length
</code></pre>

<h3 id="slices">Slices</h3>

<pre><code class="language-go">var a []int                              // declare a slice - similar to an array, but length is unspecified
var a = []int {1, 2, 3, 4}               // declare and initialize a slice (backed by the array given implicitly)
a := []int{1, 2, 3, 4}                   // shorthand
chars := []string{0:&quot;a&quot;, 2:&quot;c&quot;, 1: &quot;b&quot;}  // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]

var b = a[lo:hi]	// creates a slice (view of the array) from index lo to hi-1
var b = a[1:4]		// slice from index 1 to 3
var b = a[:3]		// missing low index implies 0
var b = a[3:]		// missing high index implies len(a)
a =  append(a,17,3)	// append items to slice a
c := append(a,b...)	// concatenate slices a and b

// create a slice with make
a = make([]byte, 5, 5)	// first arg length, second capacity
a = make([]byte, 5)	// capacity is optional

// create a slice from an array
x := [3]string{&quot;Лайка&quot;, &quot;Белка&quot;, &quot;Стрелка&quot;}
s := x[:] // a slice referencing the storage of x
</code></pre>

<h3 id="operations-on-arrays-and-slices">Operations on Arrays and Slices</h3>

<p><code>len(a)</code> gives you the length of an array/a slice. It&rsquo;s a built-in function, not a attribute/method on the array.</p>

<pre><code class="language-go">// loop over an array/a slice
for i, e := range a {
    // i is the index, e the element
}

// if you only need e:
for _, e := range a {
    // e is the element
}

// ...and if you only need the index
for i := range a {
}

// In Go pre-1.4, you'll get a compiler error if you're not using i and e.
// Go 1.4 introduced a variable-free form, so that you can do this
for range time.Tick(time.Second) {
    // do it once a sec
}

</code></pre>

<h2 id="maps">Maps</h2>

<pre><code class="language-go">var m map[string]int
m = make(map[string]int)
m[&quot;key&quot;] = 42
fmt.Println(m[&quot;key&quot;])

delete(m, &quot;key&quot;)

elem, ok := m[&quot;key&quot;] // test if key &quot;key&quot; is present and retrieve it, if so

// map literal
var m = map[string]Vertex{
    &quot;Bell Labs&quot;: {40.68433, -74.39967},
    &quot;Google&quot;:    {37.42202, -122.08408},
}

</code></pre>

<h2 id="structs">Structs</h2>

<p>There are no classes, only structs. Structs can have methods.</p>

<pre><code class="language-go">// A struct is a type. It's also a collection of fields

// Declaration
type Vertex struct {
    X, Y int
}

// Creating
var v = Vertex{1, 2}
var v = Vertex{X: 1, Y: 2} // Creates a struct by defining values with keys
var v = []Vertex{{1,2},{5,2},{5,5}} // Initialize a slice of structs

// Accessing members
v.X = 4

// You can declare methods on structs. The struct you want to declare the
// method on (the receiving type) comes between the the func keyword and
// the method name. The struct is copied on each method call(!)
func (v Vertex) Abs() float64 {
    return math.Sqrt(v.X*v.X + v.Y*v.Y)
}

// Call method
v.Abs()

// For mutating methods, you need to use a pointer (see below) to the Struct
// as the type. With this, the struct value is not copied for the method call.
func (v *Vertex) add(n float64) {
    v.X += n
    v.Y += n
}

</code></pre>

<p><strong>Anonymous structs:</strong>
Cheaper and safer than using <code>map[string]interface{}</code>.</p>

<pre><code class="language-go">point := struct {
	X, Y int
}{1, 2}
</code></pre>

<h2 id="pointers">Pointers</h2>

<pre><code class="language-go">p := Vertex{1, 2}  // p is a Vertex
q := &amp;p            // q is a pointer to a Vertex
r := &amp;Vertex{1, 2} // r is also a pointer to a Vertex

// The type of a pointer to a Vertex is *Vertex

var s *Vertex = new(Vertex) // new creates a pointer to a new struct instance
</code></pre>

<h2 id="interfaces">Interfaces</h2>

<pre><code class="language-go">// interface declaration
type Awesomizer interface {
    Awesomize() string
}

// types do *not* declare to implement interfaces
type Foo struct {}

// instead, types implicitly satisfy an interface if they implement all required methods
func (foo Foo) Awesomize() string {
    return &quot;Awesome!&quot;
}
</code></pre>

<h2 id="embedding">Embedding</h2>

<p>There is no subclassing in Go. Instead, there is interface and struct embedding.</p>

<pre><code class="language-go">// ReadWriter implementations must satisfy both Reader and Writer
type ReadWriter interface {
    Reader
    Writer
}

// Server exposes all the methods that Logger has
type Server struct {
    Host string
    Port int
    *log.Logger
}

// initialize the embedded type the usual way
server := &amp;Server{&quot;localhost&quot;, 80, log.New(...)}

// methods implemented on the embedded struct are passed through
server.Log(...) // calls server.Logger.Log(...)

// the field name of the embedded type is its type name (in this case Logger)
var logger *log.Logger = server.Logger
</code></pre>

<h2 id="errors">Errors</h2>

<p>There is no exception handling. Functions that might produce an error just declare an additional return value of type <code>Error</code>. This is the <code>Error</code> interface:</p>

<pre><code class="language-go">type error interface {
    Error() string
}
</code></pre>

<p>A function that might return an error:</p>

<pre><code class="language-go">func doStuff() (int, error) {
}

func main() {
    result, error := doStuff()
    if (error != nil) {
        // handle error
    } else {
        // all is good, use result
    }
}
</code></pre>

<h1 id="concurrency">Concurrency</h1>

<h2 id="goroutines">Goroutines</h2>

<p>Goroutines are lightweight threads (managed by Go, not OS threads). <code>go f(a, b)</code> starts a new goroutine which runs <code>f</code> (given <code>f</code> is a function).</p>

<pre><code class="language-go">// just a function (which can be later started as a goroutine)
func doStuff(s string) {
}

func main() {
    // using a named function in a goroutine
    go doStuff(&quot;foobar&quot;)

    // using an anonymous inner function in a goroutine
    go func (x int) {
        // function body goes here
    }(42)
}
</code></pre>

<h2 id="channels">Channels</h2>

<pre><code class="language-go">ch := make(chan int) // create a channel of type int
ch &lt;- 42             // Send a value to the channel ch.
v := &lt;-ch            // Receive a value from ch

// Non-buffered channels block. Read blocks when no value is available, write blocks if a value already has been written but not read.

// Create a buffered channel. Writing to a buffered channels does not block if less than &lt;buffer size&gt; unread values have been written.
ch := make(chan int, 100)

close(ch) // closes the channel (only sender should close)

// read from channel and test if it has been closed
v, ok := &lt;-ch

// if ok is false, channel has been closed

// Read from channel until it is closed
for i := range ch {
    fmt.Println(i)
}

// select blocks on multiple channel operations, if one unblocks, the corresponding case is executed
func doStuff(channelOut, channelIn chan int) {
    select {
    case channelOut &lt;- 42:
        fmt.Println(&quot;We could write to channelOut!&quot;)
    case x := &lt;- channelIn:
        fmt.Println(&quot;We could read from channelIn&quot;)
    case &lt;-time.After(time.Second * 1):
        fmt.Println(&quot;timeout&quot;)
    }
}
</code></pre>

<h3 id="channel-axioms">Channel Axioms</h3>

<ul>
<li>A send to a nil channel blocks forever</li>
</ul>

<pre><code class="language-go">  var c chan string
  c &lt;- &quot;Hello, World!&quot;
  // fatal error: all goroutines are asleep - deadlock!
</code></pre>

<ul>
<li>A receive from a nil channel blocks forever</li>
</ul>

<pre><code class="language-go">  var c chan string
  fmt.Println(&lt;-c)
  // fatal error: all goroutines are asleep - deadlock!
</code></pre>

<ul>
<li>A send to a closed channel panics</li>
</ul>

<pre><code class="language-go">  var c = make(chan string, 1)
  c &lt;- &quot;Hello, World!&quot;
  close(c)
  c &lt;- &quot;Hello, Panic!&quot;
  // panic: send on closed channel
</code></pre>

<ul>
<li>A receive from a closed channel returns the zero value immediately</li>
</ul>

<pre><code class="language-go">  var c = make(chan int, 2)
  c &lt;- 1
  c &lt;- 2
  close(c)
  for i := 0; i &lt; 3; i++ {
      fmt.Printf(&quot;%d &quot;, &lt;-c)
  }
  // 1 2 0
</code></pre>

<h2 id="printing">Printing</h2>

<pre><code class="language-go">fmt.Println(&quot;Hello, 你好, नमस्ते, Привет, ᎣᏏᏲ&quot;) // basic print, plus newline
p := struct { X, Y int }{ 17, 2 }
fmt.Println( &quot;My point:&quot;, p, &quot;x coord=&quot;, p.X ) // print structs, ints, etc
s := fmt.Sprintln( &quot;My point:&quot;, p, &quot;x coord=&quot;, p.X ) // print to string variable

fmt.Printf(&quot;%d hex:%x bin:%b fp:%f sci:%e&quot;,17,17,17,17.0,17.0) // c-ish format
s2 := fmt.Sprintf( &quot;%d %f&quot;, 17, 17.0 ) // formatted print to string variable

hellomsg := `
 &quot;Hello&quot; in Chinese is 你好 ('Ni Hao')
 &quot;Hello&quot; in Hindi is नमस्ते ('Namaste')
` // multi-line string literal, using back-tick at beginning and end
</code></pre>

<h1 id="snippets">Snippets</h1>

<h2 id="http-server">HTTP Server</h2>

<pre><code class="language-go">package main

import (
    &quot;fmt&quot;
    &quot;net/http&quot;
)

// define a type for the response
type Hello struct{}

// let that type implement the ServeHTTP method (defined in interface http.Handler)
func (h Hello) ServeHTTP(w http.ResponseWriter, r *http.Request) {
    fmt.Fprint(w, &quot;Hello!&quot;)
}

func main() {
    var h Hello
    http.ListenAndServe(&quot;localhost:4000&quot;, h)
}

// Here's the method signature of http.ServeHTTP:
// type Handler interface {
//     ServeHTTP(w http.ResponseWriter, r *http.Request)
// }
</code></pre>

<hr />

<p><a href="https://github.com/a8m/go-lang-cheat-sheet">原文出处</a></p>
    </div>

    
    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content"><a href='https://ehlxr.me'>ehlxr</a></span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">本文链接</span>
    <span class="item-content"><a href="https://ehlxr.cf/2017/08/24/golang-cheat-sheet/" target="_blank">
      <script>
        document.write(decodeURI(location.origin + location.pathname))
      </script>
    </a></span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">版权声明</span>
    <span class="item-content">
        本博客所有文章除特别声明外，均采用 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a> 许可协议。转载请注明出处！</span>
  </p>
</div>

    
    
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/images/reward/wechat-0.JPG">
        <span>微信打赏</span>
      </label>
    
  </div>
</div>

    <footer class="post-footer">
      <div class="post-tags">
          
          <a href="/tags/golang/">Golang</a>
          
          <a href="/tags/go/">Go</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/2017/10/25/tmux-cheat-sheet/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">[转]Tmux 快捷键速查表</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/2017/07/25/use-introduction-of-powermock/">
            <span class="next-text nav-default">使用 PowerMock 进行单元测试</span>
            <span class="prev-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div onclick="showDisqus();" id="disqus_title" class="disqus_title">显示 Disqus 评论</div><div id="gitalk-container" class="gitalk-container"></div>
    <link rel="stylesheet" href="/lib/gitalk/gitalk.css">
    <script src="/lib/gitalk/gitalk.min.js"></script>
    <script type="text/javascript">
      var gitalk = new Gitalk({
        id: 'c6c0bf2da45d1d05a13ff6f45f6bf298',
        title: '[转] Go Cheat Sheet',
        clientID: '4baff7711332437cab4d',
        clientSecret: '1de35357cc48f0c54ec6595c130752cade8a6e97',
        repo: 'ehlxr.github.io',
        owner: 'ehlxr',
        admin: ['ehlxr'],
        body: decodeURI(location.href)
      });
      gitalk.render('gitalk-container');
    </script>
    <noscript>Please enable JavaScript to view the
      <a href="https://github.com/gitalk/gitalk">comments powered by gitalk.</a>
    </noscript><div id="disqus_thread"></div>
    <script type="text/javascript">
    
    
    
    
    
    
    

    function showDisqus() {
      $("#disqus_title").attr("style", "display:none");

      
      
      
      

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = false;
      var disqus_shortname = 'ehlxr';
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

      window.location.hash = "#disqus_thread";
    }
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

      </div>

    </main>
    <footer id="footer" class="footer">
      <div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 -
    <a class="theme-link" href="https://github.com/ehlxr/hugo-theme-ehlxr">ehlxr</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2016 -
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author"><a href='https://ehlxr.me'>ehlxr</a></span>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv">
      
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span>
    </span>
    <span class="division">|</span>
    <span id="busuanzi_container_site_uv">
      
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span>
    </span>
  </div>


</div>
    </footer>
    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.2.0/dist/fuse.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/jquery.mark.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/ehlxr.min.js?v=0.0.1"></script>



<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>



<script src="/js/custom.js"></script>

</body>
</html>
